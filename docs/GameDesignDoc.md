# 猫咪小镇：宠物陪伴模拟经营游戏设计文档

## 1. 游戏概述

《猫咪小镇》是一款2D模拟经营游戏，核心体验为宠物陪伴。玩家在程序生成的小镇世界中生活，从事农业种植、钓鱼、采集等活动来赚取收入。游戏的独特之处在于，玩家会拥有一只猫咪伙伴，它不仅会全程陪伴玩家，还会随着感情加深而帮助玩家完成各种任务，形成相互依存的温馨关系。

### 1.1 游戏目标

- 建设并经营自己的农场
- 培养与猫咪的感情，解锁更多特殊能力
- 与小镇居民建立友谊，完成各种任务
- 探索小镇周边的神秘地点
- 体验四季轮转带来的不同内容与挑战

### 1.2 目标平台

- PC (Windows/Mac/Linux)
- 后期可考虑移植到Nintendo Switch等主机平台

## 2. 核心机制

### 2.1 日夜与季节系统

游戏时间按16:1的比例流逝，一个游戏日为现实15分钟。四季交替，每季28天，带来不同的农作物生长条件、可捕捉的鱼类和可采集的资源。

- **春季**：适合种植基础作物，鱼类活跃度中等
- **夏季**：适合种植高价值水果，鱼类活跃度高
- **秋季**：适合种植根茎类作物，采集野生食材的最佳季节
- **冬季**：大部分作物无法生长，但有特殊冬季作物，稀有鱼类出现概率提高

### 2.2 能量系统

玩家每天拥有有限的能量值（初始100点），不同活动消耗不同能量：

- 锄地：2点/格
- 浇水：1点/格
- 播种：1点/格
- 收获：1点/格
- 钓鱼：持续消耗，每分钟5点
- 采集：3点/次
- 挖矿：5点/次

能量可通过食物恢复，睡觉会完全恢复能量并进入下一天。

## 3. 宠物猫系统

### 3.1 获取猫咪

游戏开始时，玩家可以从3种不同性格的猫咪中选择一只作为伙伴：

- **活泼型**：行动速度快，擅长捕捉小动物和鱼类
- **懒散型**：移动速度慢，但精力充沛，可以长时间帮助照顾农作物
- **好奇型**：经常发现稀有物品，擅长寻找隐藏资源

### 3.2 猫咪属性

- **亲密度**：影响猫咪愿意帮助玩家的程度
- **饱食度**：需要定期喂食，影响猫咪的行动力
- **心情**：影响猫咪技能的发动概率
- **等级**：随着经验提升，解锁新技能

### 3.3 互动系统

- **抚摸**：增加亲密度，改善心情
- **喂食**：增加饱食度，特殊食物可提供临时buff
- **玩耍**：增加亲密度和经验值，消耗心情
- **教学**：消耗玩家能量，训练猫咪特定技能

### 3.4 猫咪技能

随着亲密度和等级提升，猫咪解锁以下技能：

- **基础技能**：
  - 自动追踪鼠标：跟随玩家移动
  - 卖萌：与NPC互动时增加好感度获取速度
  
- **农场技能**：
  - 驱虫：减少害虫出现概率
  - 浇水：随机帮助浇水2-5格农田
  - 催熟：使周围作物生长速度提升10%
  
- **收集技能**：
  - 寻宝：发现隐藏的物品和资源点
  - 叼果：自动采集附近的成熟果实
  - 钓鱼助手：增加钓鱼成功率20%
  
- **战斗技能**：
  - 威吓：使敌对生物暂时退却
  - 抓挠：对敌方造成小额伤害
  - 守护：吸收玩家受到的部分伤害

### 3.5 猫咪外观定制

- 随着游戏进程，可获得各种猫咪装饰品和服装
- 不同季节有对应的主题服装
- 特殊活动可获得限定装饰物

## 4. 农场与经营系统

### 4.1 农场系统

- **土地管理**：初始拥有15格土地，可通过游戏进程扩展
- **作物种植**：超过30种不同作物，每种有不同生长周期和价值
- **灌溉系统**：随游戏进程解锁自动灌溉设备
- **肥料系统**：使用不同肥料影响作物品质和生长速度
- **动物饲养**：可饲养鸡、牛、羊等动物获取产品

### 4.2 钓鱼系统

- **鱼类种类**：40多种鱼，不同季节、天气、时间出现不同鱼种
- **钓鱼地点**：河流、湖泊、海洋等多种钓点，各有特色鱼类
- **钓鱼迷你游戏**：需要玩家掌握时机和力度
- **特殊捕获**：稀有鱼类可用于特殊料理或收藏

### 4.3 采集系统

- **野生植物**：可采集蘑菇、浆果、药草等
- **季节性资源**：如春笋、秋栗等
- **矿物资源**：通过挖矿获得矿石、宝石等材料

### 4.4 制作系统

- **料理**：将收获的作物和鱼类制作成料理，提供能量恢复和buff效果
- **工艺**：制作家具、装饰物、工具等
- **工具升级**：提高工作效率，减少能量消耗

## 5. 世界设计

### 5.1 小镇区域

- **中心广场**：商店、公告板、集市等设施
- **住宅区**：NPC住所
- **农场区**：玩家的农场和附近区域
- **森林**：采集资源的主要场所
- **湖泊/河流**：钓鱼地点
- **山脉**：矿洞入口
- **海边**：特殊钓鱼点和海边集市

### 5.2 程序生成元素

- **农场布局**：每局游戏生成独特的农场地形
- **资源分布**：资源点位置每局都不同
- **日常事件**：随机触发的小型事件和挑战
- **洞穴系统**：程序生成的矿洞布局

### 5.3 天气系统

- **晴天**：作物生长速度提高
- **阴天**：植物需水量减少
- **雨天**：自动浇水，某些特殊鱼类出现率提高
- **雷暴**：可能损坏作物，但也可能带来特殊资源
- **雪天**：冬季限定，增加特殊采集物品

## 6. NPC互动

### 6.1 小镇居民

小镇有15-20名NPC居民，每个都有：
- 独特的性格和喜好
- 生日和喜欢的礼物
- 个人故事线
- 可提供的特殊任务
- 友好度系统

### 6.2 好感度系统

- 增加方式：送礼物、完成任务、参与对话
- 等级：陌生人、熟人、朋友、好友、知己
- 奖励：解锁特殊对话、商店折扣、独特物品、特殊技能

### 6.3 节日系统

每个季节有1-2个特殊节日，会有：
- 特殊集市
- 小游戏与竞赛
- 限定奖励
- NPC特殊对话

## 7. 进度系统

### 7.1 主线任务

- 重建农场
- 发展小镇
- 探索周边地区
- 解开小镇的秘密

### 7.2 支线任务

- NPC个人故事
- 季节性活动
- 收集任务
- 宠物相关任务

### 7.3 成就系统

- 农业成就（如种植每种作物）
- 钓鱼成就（如捕获所有鱼类）
- 采集成就
- 社交成就
- 猫咪相关成就

## 8. 技术实现考量

### 8.1 利用现有框架

基于项目现有的配置驱动开发方式，创建以下配置模块：

- **crops_config**: 农作物数据
- **fish_config**: 鱼类数据
- **pet_config**: 宠物属性与技能
- **npc_config**: NPC数据与对话
- **items_config**: 物品数据
- **map_config**: 地图生成参数
- **season_config**: 季节效果配置

### 8.2 核心系统改造

- 将现有的`HeartMethod`系统改造为`PetSkillSystem`
- 将`combat.py`重构为基础交互系统
- 使用`world.py`作为世界生成的基础
- 保留`ConfigManager`进行配置管理

### 8.3 新增技术需求

- 农作物生长状态渲染系统
- 宠物AI行为系统
- 天气与时间流逝视觉效果
- 钓鱼迷你游戏机制
- NPC日程安排系统

## 9. 美术风格

- 像素艺术风格，分辨率为16x16或32x32
- 充满活力的色彩方案，四季有明显视觉差异
- 猫咪动画细腻，具有丰富的表情和动作
- UI简洁易用，带有手绘风格元素

## 10. 音效与音乐

- 轻松欢快的背景音乐，随季节变化
- 环境音效丰富（鸟叫、风声、水流声等）
- 猫咪的交互音效生动可爱
- 工具使用音效有满足感

## 11. 游戏节奏与平衡

- 日常循环：规划一天的活动，平衡能量消耗
- 季节循环：为不同季节设定不同目标
- 年度循环：每年解锁新内容和挑战
- 经济平衡：作物、鱼类和工艺品的价格随季节和稀有度波动
- 猫咪养成：与游戏进度同步，提供持续动力

## 12. 未来扩展内容

- 多人联机模式
- 新区域探索
- 更多宠物种类（狗、兔子等）
- 家园装饰系统扩展
- 婚恋系统

## 13. 目标体验

《猫咪小镇》旨在创造一个温馨、放松但又有深度的游戏体验。通过与猫咪伙伴的互动和成长，玩家能够感受到真实的陪伴感和成就感。游戏的核心理念是：

- **陪伴的温暖**：猫咪不仅是游戏机制，更是玩家在游戏中的情感寄托
- **劳动的满足感**：亲手种植、收获的喜悦
- **探索的惊喜**：发现世界秘密的乐趣
- **社交的温情**：与NPC建立的情感连接
- **生活的韵律**：四季更迭、日出日落的自然节奏 